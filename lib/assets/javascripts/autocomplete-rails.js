!function(t){function e(t){return t.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function a(t,a){const i=e(t.toLowerCase()),n=e(a.toLowerCase()),l=i.indexOf(n);if(-1===l)return t;return`${t.slice(0,l)}<strong>${t.slice(l,l+a.length)}</strong>${t.slice(l+a.length)}`}t.fn.railsAutocomplete=function(){var e=function(){this.railsAutoCompleter||(this.railsAutoCompleter=new t.railsAutocomplete(this))};return t(document).on("focus","input[data-autocomplete]",e)},t.railsAutocomplete=function(t){_e=t,this.init(_e)},t.railsAutocomplete.fn=t.railsAutocomplete.prototype={railsAutocomplete:"0.0.2"},t.railsAutocomplete.fn.extend=t.railsAutocomplete.extend=t.extend,t.railsAutocomplete.fn.extend({init:function(e){function a(t){return t.split(e.delimiter)}function i(t){return a(t).pop().replace(/^\s+/,"")}e.delimiter=t(e).attr("data-delimiter")||null,e.min_length=t(e).attr("min-length")||2,e.append_to=t(e).attr("data-append-to")||null,e.autoFocus=t(e).attr("data-auto-focus")||!1,t(e).autocomplete({delay:100,appendTo:e.append_to,autoFocus:e.autoFocus,source:function(a,n){params={term:i(a.term)},t(e).attr("data-autocomplete-fields")&&t.each(t.parseJSON(t(e).attr("data-autocomplete-fields")),(function(e,a){params[e]=t(a).val()})),t.getJSON(t(e).attr("data-autocomplete"),params,(function(){t(arguments[0]).each((function(a,i){var n={};n[i.id]=i,t(e).data(n)})),n.apply(null,arguments)}))},change:function(e,a){if(t(this).is("[data-id-element]")&&""!=t(t(this).attr("data-id-element")).val()&&(t(t(this).attr("data-id-element")).val(a.item?a.item.id:""),t(this).attr("data-update-elements"))){var i=t.parseJSON(t(this).attr("data-update-elements")),n=a.item?t(this).data(a.item.id.toString()):{};if(i&&""==t(i.id).val())return;for(var l in i)element=t(i[l]),element.is(":checkbox")?null!=n[l]&&element.prop("checked",n[l]):element.val(a.item?n[l]:"")}},search:function(){if(i(this.value).length<e.min_length)return!1},focus:function(){return!1},select:function(i,n){var l=a(this.value);if(l.pop(),l.push(n.item.value),null!=e.delimiter)l.push(""),this.value=l.join(e.delimiter);else if(this.value=l.join(""),t(this).attr("data-id-element")&&t(t(this).attr("data-id-element")).val(n.item.id),t(this).attr("data-update-elements")){var o=t(this).data(n.item.id.toString()),r=t.parseJSON(t(this).attr("data-update-elements"));for(var u in r)element=t(r[u]),element.is(":checkbox")?null!=o[u]&&element.prop("checked",o[u]):element.val(o[u])}var s=this.value;return t(this).on("keyup.clearId",(function(){t.trim(t(this).val())!=t.trim(s)&&(t(t(this).attr("data-id-element")).val(""),t(this).off("keyup.clearId"))})),t(e).trigger("railsAutocomplete.select",n),!1}})}}),t(document).ready((function(){$.ui.autocomplete.prototype._renderItem=function(t,e){var i=this.term.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),n=$.trim(i).replace("  "," ").split(" ").join("|"),l=a(e.label,n);return $("<li>").append($("<div>").append(l)).appendTo(t)},t("input[data-autocomplete]").railsAutocomplete()}))}(jQuery);